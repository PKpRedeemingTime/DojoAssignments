<div class="wrapper">
  <h1>{{title}}</h1>
  <div>
    <fieldset>
      <div class="registered" *ngIf="success">
        <fieldset>
          <p>Thank you for registering with us, {{ user.first_name }}. We just sent you a confirmation email at {{ user.email }} and will send all mail to {{ user.street }} {{ user.apt }}, {{ user.city }},  {{ user.state }}.</p>
          <br>
          <p>Have a wonderful day!</p>
        </fieldset>
      </div>
      <h2>Account Information</h2>
      <form (submit)="onSubmit()">
        <label  style="display:block;" for="first_name">First Name: <input type="text" name="first_name" required [(ngModel)]="user.first_name" #first_name='ngModel'></label>
        <div style="color:red" *ngIf="!first_name.valid"><p>First name is required</p></div>
        <label  style="display:block;" for="last_name">Last Name: <input type="text" name="last_name" required [(ngModel)]="user.last_name" #last_name='ngModel'></label>
        <div style="color:red" *ngIf="!last_name.valid"><p>Last name is required</p></div>
        <label  style="display:block;" for="email">Email Address: <input type="text" name="email" pattern="^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9._-]+\.[a-zA-Z]+$" [(ngModel)]="user.email" #email='ngModel'></label>
        <div style="color:red" *ngIf="!email.valid"><p>Email must be valid</p></div>
        <label  style="display:block;" for="password">Password: <input type="password" name="password" required minlength='10' [(ngModel)]="user.password" #password='ngModel'></label>
        <div style="color:red" *ngIf="!password.valid"><p>Password must be 10 characters</p></div>
        <label  style="display:block;" for="confirm_password">Confirm Password: <input type="password" name="password_confirmation" [(ngModel)]="user.password_confirmation" #password_confirmation='ngModel'></label>
        <div style="color:red" *ngIf="user.password != user.password_confirmation"><p>Password confirmation must match password</p></div>
        <label  style="display:block;" for="street">Street Address: <input type="text" name="street" required [(ngModel)]="user.street" #street='ngModel'></label>
        <div style="color:red" *ngIf="!street.valid"><p>Street is required</p></div>
        <label  style="display:block;" for="apt">Unit/Apt #: <input type="text" name="apt" [(ngModel)]="user.apt" #apt='ngModel'></label>
        <label  style="display:block;" for="city">City: <input type="text" name="city" required [(ngModel)]="user.city" #city='ngModel'></label>
        <div style="color:red" *ngIf="!city.valid"><p>City is required</p></div>
        <label style="display:block;" for="state">State: <select name="state" required [(ngModel)]="user.state" #state='ngModel'>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District Of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select></label>
        <div style="color:red" *ngIf="!state.valid"><p>State is required</p></div>
        <p style="display:inline;" >I'm feeling lucky: </p>
        <form>
          <label style="display:inline;" for="lucky">Yes: <input type="radio" name="lucky" value="yes" required [(ngModel)]="user.lucky" #lucky='ngModel'></label>
          <label style="display:inline;" for="lucky">No: <input type="radio" name="lucky" value="no" required [(ngModel)]="user.lucky" #lucky='ngModel'></label>
        </form>
        <div style="color:red" *ngIf="!lucky.valid"><p>Please tell us if you feel lucky!</p></div>
        <input *ngIf="first_name.valid && last_name.valid && email.valid && password.valid && street.valid && city.valid && state.valid && user.password == user.password_confirmation" style="display:block;" type="submit" value="Register">
      </form>
    </fieldset>
  </div>
</div>


